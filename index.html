<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --pink: #ff4081;
      --bg1: #ffecd2;
      --bg2: #fcb69f;
      --radius: 16px;
      --shadow: 0 15px 40px rgba(0,0,0,0.1);
      --transition: .4s ease;
      font-family: 'Segoe UI', system-ui,-apple-system,sans-serif;
    }
    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
      gap: 30px;
      color: #222;
      text-align: center;
      position: relative;
      overflow-x: hidden;
    }

    h1 {
      margin: 0;
      font-size: 2.8rem;
      color: #d81b60;
      line-height: 1.1;
      min-height: 3.2rem;
      white-space: nowrap;
      overflow: hidden;
      letter-spacing: 1px;
    }

    p.sub {
      margin: 5px 0 25px;
      font-size: 1.1rem;
    }

    .controls {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 10px;
    }

    .btn {
      background: var(--pink);
      border: none;
      padding: 10px 18px;
      border-radius: 999px;
      color: #fff;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
      transition: filter var(--transition);
    }
    .btn:hover { filter: brightness(1.05); }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      width: 100%;
      max-width: 1000px;
    }

    .flip-card {
      perspective: 1000px;
    }

    .flip-inner {
      position: relative;
      width: 100%;
      aspect-ratio: 1 / 1;
      transform-style: preserve-3d;
      transition: transform .6s ease;
      border-radius: var(--radius);
      cursor: pointer;
    }

    .flip-card.flipped .flip-inner {
      transform: rotateY(180deg);
    }

    .flip-face {
      position: absolute;
      inset: 0;
      border-radius: var(--radius);
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 16px;
      color: #fff;
      font-weight: 600;
      box-shadow: var(--shadow);
      text-align: center;
      overflow: hidden;
    }

    .front {
      background: linear-gradient(135deg,#7f00ff,#e100ff);
    }

    .back {
      background: linear-gradient(135deg,#ff9a8b,#ff6a88);
      transform: rotateY(180deg);
    }

    .flip-title {
      font-size: 1rem;
      margin-bottom: 8px;
      flex-shrink: 0;
    }

    .flip-message {
      font-size: 1rem;
      line-height: 1.2;
      overflow: auto;
      text-align: left;
      width: 100%;
      flex: 1;
    }

    .audio-player {
      margin-top: 10px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    .progress {
      flex: 1;
      position: relative;
      height: 8px;
      background: rgba(255,255,255,0.3);
      border-radius: 4px;
      overflow: hidden;
      cursor: pointer;
      max-width: 300px;
    }

    .progress-inner {
      height: 100%;
      background: rgba(255,255,255,0.8);
      width: 0%;
      transition: width .1s linear;
    }

    .time {
      font-size: 0.75rem;
      min-width: 60px;
    }

    .small {
      font-size: 0.7rem;
      margin-top: 4px;
      color: #555;
    }

    canvas#confetti {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
      z-index: 10;
    }

    @media (max-width: 800px) {
      h1 { font-size: 2.2rem; }
    }
  </style>
</head>
<body>

  <canvas id="confetti"></canvas>

  <div class="header">
    <h1 id="typewriter">üéâ Happy Birthday, </h1>
    <p class="sub">Yeh special surprise tumhare liye ‚ù§Ô∏è</p>
  </div>

  <div class="controls">
    <button class="btn" id="playBtn">Play Song</button>
    <button class="btn" id="pauseBtn">Pause</button>
    <div class="audio-player">
      <div class="progress" id="progressBar">
        <div class="progress-inner" id="progressInner"></div>
      </div>
      <div class="time" id="currentTime">0:00</div>
      <div class="time" id="duration">0:00</div>
    </div>
  </div>
  <div class="small">Enjoy Your Day üòä</div>

  <div class="cards" id="cardsContainer">
    <!-- Card 1 -->
    <div class="flip-card" data-id="1">
      <div class="flip-inner">
        <div class="flip-face front">
          <div class="flip-title">HAPPY BIRTHDAY</div>
          <div class="flip-message">Click to open</div>
        </div>
        <div class="flip-face back">
          <div class="flip-title">Tumhari Muskaan</div>
          <div class="flip-message">
            Tumhari muskaan meri favourite cheez hai. Har din aise hi chamakte raho!
          </div>
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="flip-card" data-id="2">
      <div class="flip-inner">
        <div class="flip-face front">
          <div class="flip-title">Dosti</div>
          <div class="flip-message">Click to read</div>
        </div>
        <div class="flip-face back">
          <div class="flip-title">Dosti</div>
          <div class="flip-message">
            Thank you so much for everything. Main kabhi nahi bhoolungi hamari dosti aur tumhari baatein. 
            Jab tumne pehli baar mujhe "princess" bola, woh special feel hua ‚Äî pehli baar kisi ne aise treat kiya. 
            Tumhari appreciation se mujhe khud par vishwas milta hai. Tumhari simplicity aur honesty mujhe inspire karti hai. 
            Jab bhi main sochti hoon, lagta hai jaise koi sapna sach ho gaya ho. Kisi ne pehle kabhi aisa nahi kiya. 
            Thank you for being there for me always.
          </div>
        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="flip-card" data-id="3">
      <div class="flip-inner">
        <div class="flip-face front">
          <div class="flip-title">Surprise</div>
          <div class="flip-message">Click to read</div>
        </div>
        <div class="flip-face back">
          <div class="flip-title">Wish</div>
          <div class="flip-message">
            Tumhara aane wala har saal khushiyon se bhara ho, sapne poore ho, aur har din naya reason de smile karne ka.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Audio element -->
  <audio id="birthdayAudio" src="assets\01-Monk-Turner-Fascinoma-Its-Your-Birthday(chosic.com).mp3" preload="metadata"></audio>

  <script>
    // ------------------ TYPEWRITER ------------------
    const nameToType = "Sajal!"; // friend ka naam yahan daal do
    const baseText = "üéâ Happy Birthday, ";
    const targetEl = document.getElementById('typewriter');
    let idx = 0;
    function typeWriter() {
      if (idx <= baseText.length + nameToType.length) {
        const showing = baseText + nameToType.slice(0, Math.max(0, idx - baseText.length));
        targetEl.textContent = showing;
        idx++;
        setTimeout(typeWriter, 100);
      }
    }
    typeWriter();

    // ------------------ FLIP CARDS ------------------
    document.querySelectorAll('.flip-card').forEach(card => {
      card.addEventListener('click', () => {
        card.classList.toggle('flipped');
      });
    });

    // ------------------ AUDIO CONTROLS ------------------
    const audio = document.getElementById('birthdayAudio');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const progressBar = document.getElementById('progressBar');
    const progressInner = document.getElementById('progressInner');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');

    function formatTime(sec) {
      const m = Math.floor(sec / 60);
      const s = Math.floor(sec % 60).toString().padStart(2, '0');
      return m + ":" + s;
    }

    audio.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(audio.duration);
    });

    audio.addEventListener('timeupdate', () => {
      currentTimeEl.textContent = formatTime(audio.currentTime);
      const pct = (audio.currentTime / audio.duration) * 100;
      progressInner.style.width = pct + '%';
    });

    playBtn.addEventListener('click', () => {
      audio.play();
    });
    pauseBtn.addEventListener('click', () => {
      audio.pause();
    });

    progressBar.addEventListener('click', (e) => {
      const rect = progressBar.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const pct = x / rect.width;
      audio.currentTime = pct * audio.duration;
    });

    // ------------------ CONFETTI ------------------
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let W = confettiCanvas.width = window.innerWidth;
    let H = confettiCanvas.height = window.innerHeight;
    window.addEventListener('resize', () => {
      W = confettiCanvas.width = window.innerWidth;
      H = confettiCanvas.height = window.innerHeight;
    });

    const confettiPieces = [];
    const colors = ['#ff5f7e','#ffcb6b','#6ee7b7','#8c9eff','#ff8a65'];

    class Piece {
      constructor() {
        this.x = Math.random() * W;
        this.y = Math.random() * -H;
        this.w = 8 + Math.random() * 8;
        this.h = 4 + Math.random() * 4;
        this.color = colors[Math.floor(Math.random() * colors.length)];
        this.rotation = Math.random() * 360;
        this.speed = 1 + Math.random() * 3;
        this.opacity = 0.7 + Math.random() * 0.3;
        this.spin = Math.random() * 0.1;
      }
      update() {
        this.y += this.speed;
        this.rotation += this.spin;
        if (this.y > H) {
          this.y = -10;
          this.x = Math.random() * W;
        }
      }
      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.globalAlpha = this.opacity;
        ctx.fillStyle = this.color;
        ctx.fillRect(-this.w/2, -this.h/2, this.w, this.h);
        ctx.restore();
      }
    }

    function initConfetti(count = 120) {
      for (let i = 0; i < count; i++) confettiPieces.push(new Piece());
    }
    function runConfetti() {
      ctx.clearRect(0,0,W,H);
      confettiPieces.forEach(p => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(runConfetti);
    }
    initConfetti();
    runConfetti();
  </script>
</body>
</html>
